/*
 * Modul: Figure.
 * Definiert das Layout von Abbildungen.
 * @author Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2016 Jakob Metzger
 * @license MIT
 */

// Abbildung
figure {
    text-align: center;
    box-sizing: border-box;
    page-break-inside: avoid;
    clear: both;
    display: block;
    width: 100%;
    height: auto;
    margin: 0;
    font-size: 0;

    // Bild
    img {
        box-sizing: border-box;
        display: block;
        width: auto;
        height: auto;
        margin: 0 auto;
        max-width: 100%;
        padding: @margin-figure-h;
        background: @color-box;
        border-radius: @size-radius;

        // Typ: Wireframe
        &.figure-wireframe {
            height: (@figure-size-wireframe + (@margin-figure-h * 2));
        }

        // Typ: Screenshot
        &.figure-screenshot {
            height: (@figure-size-screenshot + (@margin-figure-h * 2));
        }

        // Typ: Logo
        &.figure-logo {
            height: @figure-size-logo;
            background: transparent;
            border-radius: 0;
            padding: 0;
        }
    }

    // Abbildungs-Zeile
    .figure-row {
        margin-bottom: @margin-figure-h;

        // Letztes Element
        &:last-of-type { margin-bottom: 0; }

        // Bilder
        img {
            margin: 0 (@margin-figure-h / 2);
            display: inline-block;
        }
    }

    // Titel
    figcaption {
        display: block;
        font-style: italic;
        text-align: center;
        color: @color-pale;
        font-size: @font-size-small;
        margin-top: @font-size-small;
        line-height: (@line-height-small * @font-size-small);

        // Absatz
        p {
            text-align: center;
            margin: (@font-size-small / 2) 0 0 0;
        }

        // Nummer
        &:before {
            font-weight: bold;
            display: inline-block;
            box-sizing: border-box;
            counter-increment: _countFig;
            content: @string-figure counter(_countFig);
            font-size: (@font-size-small * @factor-count-font);
            color: @color-pale;
            background: @color-box;
            padding: 0 (@margin-count-h / 2);
            border-radius: @size-radius;
            vertical-align: top;
            font-style: normal;
        }

        // Linie
        &:after {
            content: "";
            display: block;
            margin: 0 auto;
            height: 0;
            width: @size-border;
            padding-top: @font-size-small;
            border-bottom: @size-line solid @color-line;
        }
    }

    // Auf Absatz folgend
    p + &, ul + & {
        margin-top: @margin-figure-v;
    }
}
